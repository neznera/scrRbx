--[[
    ИДЕНТИФИКАТОР ОБЪЕКТОВ ПОД КУРСОРОМ
    - Объект под курсором подсвечивается белым.
    - Нажми левую кнопку мыши, чтобы получить информацию.
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

local currentHighlight = nil
local lastTarget = nil

-- Функция для подсветки объекта
local function highlightObject(obj)
    if currentHighlight then
        currentHighlight:Destroy()
        currentHighlight = nil
    end
    if obj then
        local highlight = Instance.new("Highlight")
        highlight.Adornee = obj
        highlight.FillColor = Color3.fromRGB(255, 255, 255)   -- белая заливка
        highlight.FillTransparency = 0.5
        highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
        highlight.OutlineTransparency = 0
        highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
        -- Помещаем подсветку в CoreGui, чтобы она была видна всегда
        highlight.Parent = game:GetService("CoreGui")
        currentHighlight = highlight
    end
end

-- Отслеживание объекта под курсором
RunService.RenderStepped:Connect(function()
    local target = Mouse.Target
    if target ~= lastTarget then
        lastTarget = target
        highlightObject(target)
    end
end)

-- Обработка клика левой кнопкой
UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        local target = Mouse.Target
        if target then
            -- Вычисляем расстояние до объекта
            local char = LocalPlayer.Character
            local root = char and (char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso"))
            local dist = root and (target.Position - root.Position).Magnitude or "неизвестно"

            print("--- ИНФОРМАЦИЯ ОБ ОБЪЕКТЕ ---")
            print("Имя: " .. target.Name)
            print("Класс: " .. target.ClassName)
            print("Полный путь: " .. target:GetFullName())
            print("Расстояние: " .. (type(dist) == "number" and string.format("%.1f stud", dist) or dist))
            print("------------------------------")
        else
            print("Под курсором нет объекта.")
        end
    end
end)

print("✅ Скрипт загружен. Наводись на объекты (они подсвечиваются) и нажимай левую кнопку мыши для получения информации.")

--[[
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
    â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
    â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
    â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• 
    
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                     ULTIMATE COMBAT HUB v2                       â•‘
    â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
    â•‘  ðŸ”¹ ESP: Ð²Ñ€Ð°Ð³Ð¸ ÐºÑ€Ð°ÑÐ½Ñ‹Ðµ, ÑÐ¾ÑŽÐ·Ð½Ð¸ÐºÐ¸ Ð·ÐµÐ»Ñ‘Ð½Ñ‹Ðµ                         â•‘
    â•‘  ðŸ”¹ Aimbot (ÐŸÐšÐœ) + Wallbang (B)                                  â•‘
    â•‘  ðŸ”¹ No Recoil (N)                                                â•‘
    â•‘  ðŸ”¹ Infinite Ammo (M)                                            â•‘
    â•‘  ðŸ”¹ Legit Fly (F)                                                â•‘
    â•‘  ðŸ”¹ Legit Speed (G)                                              â•‘
    â•‘  ðŸ”¹ Health Boost (H)                                             â•‘
    â•‘  ðŸ”¹ Teleport to Enemy (T)                                        â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local CoreGui = (gethui and gethui()) or game:GetService("CoreGui")

if syn and syn.protect_gui then syn.protect_gui(CoreGui) elseif protect_gui then protect_gui(CoreGui) end

local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- ========== ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ˜ ==========
local Settings = {
    -- ESP Ð²ÑÐµÐ³Ð´Ð° Ð²ÐºÐ»ÑŽÑ‡Ñ‘Ð½ (Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ñ†Ð²ÐµÑ‚Ð°)
    -- Aimbot
    Aimbot_Enabled = true,
    FOV = 200,
    Wallbang = false,
    
    -- No Recoil
    NoRecoil = false,
    
    -- Infinite Ammo
    InfiniteAmmo = false,
    
    -- Fly
    Fly_Enabled = false,
    Fly_Speed = 50,
    
    -- Speed
    Speed_Enabled = false,
    Speed_Value = 32,
    
    -- Health Boost
    Health_Enabled = false,
    Health_Target = 9999,
    
    -- Teleport (Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð¿Ð¾ ÐºÐ½Ð¾Ð¿ÐºÐµ)
}

-- ========== ÐŸÐ•Ð Ð•ÐœÐ•ÐÐÐ«Ð• ==========
local ESP_Folder = Instance.new("Folder")
ESP_Folder.Name = "ESP_Container"
ESP_Folder.Parent = CoreGui

local IsAiming = false

-- Fly Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ
local flyBodyVelocity, flyBodyGyro, flyConnection
-- Health Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ
local healthConnection

-- ========== ESP (Ð ÐÐ—ÐÐ«Ð• Ð¦Ð’Ð•Ð¢Ð) ==========
local function GetTeamColor(player)
    if player == LocalPlayer then return nil end
    if not player.Team or not LocalPlayer.Team then
        return BrickColor.new("Bright red")   -- Ð½ÐµÑ‚ ÐºÐ¾Ð¼Ð°Ð½Ð´ â€“ Ð²ÑÐµ ÐºÑ€Ð°ÑÐ½Ñ‹Ðµ
    end
    if player.Team == LocalPlayer.Team then
        return BrickColor.new("Bright green") -- ÑÐ¾ÑŽÐ·Ð½Ð¸ÐºÐ¸ Ð·ÐµÐ»Ñ‘Ð½Ñ‹Ðµ
    else
        return BrickColor.new("Bright red")   -- Ð²Ñ€Ð°Ð³Ð¸ ÐºÑ€Ð°ÑÐ½Ñ‹Ðµ
    end
end

RunService.RenderStepped:Connect(function()
    -- Ð£Ð´Ð°Ð»ÑÐµÐ¼ Ð²ÑÐµ ÑÑ‚Ð°Ñ€Ñ‹Ðµ Ñ€Ð°Ð¼ÐºÐ¸
    for _, child in pairs(ESP_Folder:GetChildren()) do
        child:Destroy()
    end

    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local color = GetTeamColor(player)
            if color then
                local char = player.Character
                if char then
                    local hum = char:FindFirstChild("Humanoid")
                    if hum and hum.Health > 0 then
                        for _, part in pairs(char:GetDescendants()) do
                            if part:IsA("BasePart") and part.Transparency < 1 then
                                local box = Instance.new("BoxHandleAdornment")
                                box.Name = part.Name
                                box.Adornee = part
                                box.AlwaysOnTop = true
                                box.ZIndex = 10
                                box.Size = part.Size * 1.05
                                box.Transparency = 0.3
                                box.Color = color
                                box.Parent = ESP_Folder
                            end
                        end
                    end
                end
            end
        end
    end
end)

-- ========== AIMBOT (Ð¡ WALLBANG) ==========
local function IsVisible(character)
    if Settings.Wallbang then return true end
    local head = character:FindFirstChild("Head")
    if not head then return false end
    local origin = Camera.CFrame.Position
    local direction = head.Position - origin
    local ray = Ray.new(origin, direction.Unit * direction.Magnitude)
    local hit = workspace:FindPartOnRayWithIgnoreList(ray, {LocalPlayer.Character, Camera})
    return hit and hit:IsDescendantOf(character)
end

local function GetTarget()
    if not Settings.Aimbot_Enabled then return nil end
    local mousePos = UserInputService:GetMouseLocation()
    local closestPlayer, closestDist = nil, Settings.FOV
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local hum = player.Character:FindFirstChild("Humanoid")
            if hum and hum.Health > 0 then
                if IsVisible(player.Character) then
                    local targetPart = player.Character:FindFirstChild("HumanoidRootPart") or player.Character:FindFirstChild("Torso") or player.Character:FindFirstChild("UpperTorso") or player.Character:FindFirstChild("Head")
                    if targetPart then
                        local vec, onScreen = Camera:WorldToViewportPoint(targetPart.Position)
                        if onScreen then
                            local dist = (Vector2.new(vec.X, vec.Y) - mousePos).Magnitude
                            if dist < closestDist then
                                closestDist = dist
                                closestPlayer = player
                            end
                        end
                    end
                end
            end
        end
    end
    return closestPlayer
end

local function MoveMouse(targetX, targetY)
    local current = UserInputService:GetMouseLocation()
    local deltaX, deltaY = targetX - current.X, targetY - current.Y
    if math.abs(deltaX) < 0.5 and math.abs(deltaY) < 0.5 then return end
    if mousemoverel then
        mousemoverel(deltaX, deltaY)
    elseif syn and syn.input then
        syn.input.MouseMove(deltaX, deltaY)
    elseif VirtualInputManager then
        VirtualInputManager:SendMouseMoveEvent(deltaX, deltaY, false)
    end
end

UserInputService.InputBegan:Connect(function(input, gp)
    if not gp and input.UserInputType == Enum.UserInputType.MouseButton2 then
        IsAiming = true
    end
end)

UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton2 then
        IsAiming = false
    end
end)

RunService.RenderStepped:Connect(function()
    if IsAiming and Settings.Aimbot_Enabled then
        local target = GetTarget()
        if target then
            local char = target.Character
            if char then
                local targetPart = char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso") or char:FindFirstChild("Head")
                if targetPart then
                    local vec, onScreen = Camera:WorldToViewportPoint(targetPart.Position)
                    if onScreen then
                        MoveMouse(vec.X, vec.Y)
                    end
                end
            end
        end
    end
end)

-- ========== NO RECOIL ==========
local function ApplyNoRecoil()
    if not Settings.NoRecoil then return end
    local char = LocalPlayer.Character
    if not char then return end
    local tool = char:FindFirstChildOfClass("Tool") or char:FindFirstChildWhichIsA("Tool")
    if tool then
        local props = {"Recoil", "Bloom", "Spread", "Deviation", "CameraRecoil", "RecoilMax", "RecoilMin", "Shake", "Sway"}
        for _, prop in ipairs(props) do
            pcall(function()
                if tool:FindFirstChild(prop) then
                    tool[prop].Value = 0
                end
                if tool[prop] ~= nil then
                    tool[prop] = 0
                end
            end)
        end
    end
end

-- ========== INFINITE AMMO ==========
local function ApplyInfiniteAmmo()
    if not Settings.InfiniteAmmo then return end
    local char = LocalPlayer.Character
    if not char then return end
    local tool = char:FindFirstChildOfClass("Tool") or char:FindFirstChildWhichIsA("Tool")
    if tool then
        local ammoProps = {"Ammo", "CurrentAmmo", "Clip", "Magazine", "ReserveAmmo", "MaxAmmo"}
        for _, prop in ipairs(ammoProps) do
            pcall(function()
                if tool:FindFirstChild(prop) then
                    tool[prop].Value = 9999
                end
                if tool[prop] ~= nil then
                    if type(tool[prop]) == "number" then
                        tool[prop] = 9999
                    end
                end
            end)
        end
        pcall(function()
            if tool:FindFirstChild("Configuration") then
                local cfg = tool.Configuration
                if cfg:FindFirstChild("AmmoCount") then cfg.AmmoCount.Value = 9999 end
                if cfg:FindFirstChild("MaxAmmo") then cfg.MaxAmmo.Value = 9999 end
            end
        end)
    end
end

-- ========== FLY ==========
local function EnableFly()
    local char = LocalPlayer.Character
    if not char then return end
    local root = char:FindFirstChild("HumanoidRootPart")
    local hum = char:FindFirstChild("Humanoid")
    if not root or not hum then return end

    hum.PlatformStand = true

    flyBodyVelocity = Instance.new("BodyVelocity")
    flyBodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
    flyBodyVelocity.Velocity = Vector3.new(0, 0, 0)
    flyBodyVelocity.Parent = root

    flyBodyGyro = Instance.new("BodyGyro")
    flyBodyGyro.MaxTorque = Vector3.new(4000, 4000, 4000)
    flyBodyGyro.P = 1000
    flyBodyGyro.D = 200
    flyBodyGyro.CFrame = root.CFrame
    flyBodyGyro.Parent = root

    Settings.Fly_Enabled = true
end

local function DisableFly()
    Settings.Fly_Enabled = false
    if flyBodyVelocity then flyBodyVelocity:Destroy() flyBodyVelocity = nil end
    if flyBodyGyro then flyBodyGyro:Destroy() flyBodyGyro = nil end
    local char = LocalPlayer.Character
    if char then
        local hum = char:FindFirstChild("Humanoid")
        if hum then hum.PlatformStand = false end
    end
end

local function ToggleFly()
    if Settings.Fly_Enabled then DisableFly() else EnableFly() end
end

-- Ð¦Ð¸ÐºÐ» Ð¿Ð¾Ð»Ñ‘Ñ‚Ð°
flyConnection = RunService.Heartbeat:Connect(function()
    if Settings.Fly_Enabled and LocalPlayer.Character then
        local root = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if root and flyBodyVelocity and flyBodyGyro then
            local move = Vector3.new()
            if UserInputService:IsKeyDown(Enum.KeyCode.W) then
                move = move + Camera.CFrame.LookVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then
                move = move - Camera.CFrame.LookVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.A) then
                move = move - Camera.CFrame.RightVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.D) then
                move = move + Camera.CFrame.RightVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
                move = move + Vector3.new(0, 1, 0)
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
                move = move - Vector3.new(0, 1, 0)
            end
            if move.Magnitude > 0 then
                move = move.Unit * Settings.Fly_Speed
            end
            flyBodyVelocity.Velocity = move
            flyBodyGyro.CFrame = CFrame.lookAt(root.Position, root.Position + Camera.CFrame.LookVector)
        end
    end
end)

-- ========== LEGIT SPEED ==========
local function ApplySpeed()
    local char = LocalPlayer.Character
    if not char then return end
    local hum = char:FindFirstChild("Humanoid")
    if hum then
        hum.WalkSpeed = Settings.Speed_Enabled and Settings.Speed_Value or 16
    end
end

local function ToggleSpeed()
    Settings.Speed_Enabled = not Settings.Speed_Enabled
    ApplySpeed()
end

-- ========== HEALTH BOOST ==========
local function ApplyHealth()
    if not Settings.Health_Enabled then
        if healthConnection then healthConnection:Disconnect() healthConnection = nil end
        return
    end
    if healthConnection then return end
    healthConnection = RunService.Heartbeat:Connect(function()
        local char = LocalPlayer.Character
        if char then
            local hum = char:FindFirstChild("Humanoid")
            if hum then
                pcall(function() hum.Health = Settings.Health_Target end)
            end
        end
    end)
end

local function ToggleHealth()
    Settings.Health_Enabled = not Settings.Health_Enabled
    ApplyHealth()
end

-- ========== TELEPORT TO ENEMY ==========
local function TeleportToEnemy()
    local myChar = LocalPlayer.Character
    if not myChar then return end
    local myRoot = myChar:FindFirstChild("HumanoidRootPart")
    if not myRoot then return end

    -- Ð˜Ñ‰ÐµÐ¼ Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐ³Ð¾ Ð²Ñ€Ð°Ð³Ð° (Ð¶Ð¸Ð²Ð¾Ð³Ð¾, Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð³Ð¾ Ð½Ð° ÑÐºÑ€Ð°Ð½Ðµ, Ð² Ð¿Ñ€ÐµÐ´ÐµÐ»Ð°Ñ… FOV 200)
    local mousePos = UserInputService:GetMouseLocation()
    local closestDist = 200
    local target = nil
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            -- ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ Ð²Ñ€Ð°Ð³ Ð¸Ð»Ð¸ Ð½ÐµÑ‚ (Ð¿Ð¾ Ñ†Ð²ÐµÑ‚Ñƒ ESP, Ð½Ð¾ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ñ‚Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ ÑƒÑÐ»Ð¾Ð²Ð¸Ðµ: ÐµÑÐ»Ð¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°ÐµÑ‚ÑÑ Ð¸Ð»Ð¸ Ð½ÐµÑ‚ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹)
            local isEnemy = true
            if player.Team and LocalPlayer.Team and player.Team == LocalPlayer.Team then
                isEnemy = false
            end
            if isEnemy then
                local char = player.Character
                if char then
                    local hum = char:FindFirstChild("Humanoid")
                    if hum and hum.Health > 0 then
                        local targetPart = char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso") or char:FindFirstChild("Head")
                        if targetPart then
                            local vec, onScreen = Camera:WorldToViewportPoint(targetPart.Position)
                            if onScreen then
                                local dist = (Vector2.new(vec.X, vec.Y) - mousePos).Magnitude
                                if dist < closestDist then
                                    closestDist = dist
                                    target = player
                                end
                            end
                        end
                    end
                end
            end
        end
    end

    if target then
        local targetChar = target.Character
        local targetRoot = targetChar and (targetChar:FindFirstChild("HumanoidRootPart") or targetChar:FindFirstChild("Torso") or targetChar:FindFirstChild("UpperTorso"))
        if targetRoot then
            -- Ð¢ÐµÐ»ÐµÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ÑÑ Ð½Ð°Ð´ Ð³Ð¾Ð»Ð¾Ð²Ð¾Ð¹ Ñ†ÐµÐ»Ð¸ (Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ¿Ð°ÑÑ‚ÑŒ Ð½Ð° Ð½ÐµÐ³Ð¾)
            local teleportPos = targetRoot.Position + Vector3.new(0, 15, 0)
            myRoot.CFrame = CFrame.new(teleportPos)
            print("ðŸ”„ Ð¢ÐµÐ»ÐµÐ¿Ð¾Ñ€Ñ‚ Ðº " .. target.Name)
        end
    else
        print("âš ï¸ ÐÐµÑ‚ Ñ†ÐµÐ»Ð¸ Ð² Ñ€Ð°Ð´Ð¸ÑƒÑÐµ 200px")
    end
end

-- ========== Ð£ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð• ÐšÐ›ÐÐ’Ð˜Ð¨ÐÐœÐ˜ ==========
UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == Enum.KeyCode.F then
        ToggleFly()
    elseif input.KeyCode == Enum.KeyCode.G then
        ToggleSpeed()
    elseif input.KeyCode == Enum.KeyCode.H then
        ToggleHealth()
    elseif input.KeyCode == Enum.KeyCode.T then
        TeleportToEnemy()
    elseif input.KeyCode == Enum.KeyCode.B then
        Settings.Wallbang = not Settings.Wallbang
        print("ðŸŸ¢ Wallbang: " .. (Settings.Wallbang and "ON" or "OFF"))
    elseif input.KeyCode == Enum.KeyCode.N then
        Settings.NoRecoil = not Settings.NoRecoil
        print("ðŸŸ¢ No Recoil: " .. (Settings.NoRecoil and "ON" or "OFF"))
    elseif input.KeyCode == Enum.KeyCode.M then
        Settings.InfiniteAmmo = not Settings.InfiniteAmmo
        print("ðŸŸ¢ Infinite Ammo: " .. (Settings.InfiniteAmmo and "ON" or "OFF"))
    end
end)

-- ÐŸÑ€Ð¸Ð¼ÐµÐ½ÑÐµÐ¼ ÑÑ„Ñ„ÐµÐºÑ‚Ñ‹ Ð² Ñ†Ð¸ÐºÐ»Ðµ
RunService.Heartbeat:Connect(function()
    ApplyNoRecoil()
    ApplyInfiniteAmmo()
end)

-- Ð¡Ð±Ñ€Ð¾Ñ Ð¿Ñ€Ð¸ Ñ€ÐµÑÐ¿Ð°Ð²Ð½Ðµ
LocalPlayer.CharacterAdded:Connect(function()
    if Settings.Fly_Enabled then DisableFly() end
    ApplySpeed()
    ApplyHealth()
end)

-- ========== ÐœÐ•ÐÐ® (DRAWING) ==========
local function CreateMenu()
    -- Ð¤Ð¾Ð½
    local bg = Drawing.new("Square")
    bg.Visible = true
    bg.Color = Color3.fromRGB(30, 30, 40)
    bg.Transparency = 0.9
    bg.Size = Vector2.new(320, 360)
    bg.Position = Vector2.new(50, 50)
    bg.Filled = true
    bg.ZIndex = 999

    local title = Drawing.new("Text")
    title.Visible = true
    title.Color = Color3.fromRGB(255, 255, 0)
    title.Position = Vector2.new(60, 55)
    title.Text = "âš¡ ULTIMATE HUB"
    title.Size = 20
    title.ZIndex = 1000

    local closeBtn = Drawing.new("Text")
    closeBtn.Visible = true
    closeBtn.Color = Color3.new(1,0,0)
    closeBtn.Position = Vector2.new(350, 55)
    closeBtn.Text = "X"
    closeBtn.Size = 20
    closeBtn.ZIndex = 1000

    local yPos = 85
    local checkboxes = {}

    local function AddCheckbox(text, keyName, getter, setter)
        local box = Drawing.new("Square")
        box.Visible = true
        box.Color = getter() and Color3.fromRGB(0,255,0) or Color3.fromRGB(80,80,80)
        box.Size = Vector2.new(12,12)
        box.Position = Vector2.new(60, yPos)
        box.Filled = true
        box.ZIndex = 1000

        local lbl = Drawing.new("Text")
        lbl.Visible = true
        lbl.Color = Color3.new(1,1,1)
        lbl.Position = Vector2.new(80, yPos-2)
        lbl.Text = text .. " [" .. keyName .. "]"
        lbl.Size = 14
        lbl.ZIndex = 1000

        table.insert(checkboxes, {box=box, lbl=lbl, y=yPos, get=getter, set=setter})
        yPos = yPos + 25
    end

    AddCheckbox("Aimbot", "ÐŸÐšÐœ", function() return Settings.Aimbot_Enabled end, function(v) Settings.Aimbot_Enabled = v end)
    AddCheckbox("Wallbang", "B", function() return Settings.Wallbang end, function(v) Settings.Wallbang = v end)
    AddCheckbox("No Recoil", "N", function() return Settings.NoRecoil end, function(v) Settings.NoRecoil = v end)
    AddCheckbox("Infinite Ammo", "M", function() return Settings.InfiniteAmmo end, function(v) Settings.InfiniteAmmo = v end)
    AddCheckbox("Legit Fly", "F", function() return Settings.Fly_Enabled end, function(v) if v then EnableFly() else DisableFly() end end)
    AddCheckbox("Legit Speed", "G", function() return Settings.Speed_Enabled end, function(v) Settings.Speed_Enabled = v; ApplySpeed() end)
    AddCheckbox("Health Boost", "H", function() return Settings.Health_Enabled end, function(v) Settings.Health_Enabled = v; ApplyHealth() end)

    -- Ð¢ÐµÐ»ÐµÐ¿Ð¾Ñ€Ñ‚ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾ (ÐºÐ½Ð¾Ð¿ÐºÐ°, Ð½Ðµ Ñ‡ÐµÐºÐ±Ð¾ÐºÑ)
    local tpText = Drawing.new("Text")
    tpText.Visible = true
    tpText.Color = Color3.new(1,1,1)
    tpText.Position = Vector2.new(60, yPos)
    tpText.Text = "Teleport [T]"
    tpText.Size = 14
    tpText.ZIndex = 1000

    -- ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÐºÐ»Ð¸ÐºÐ¾Ð² Ð¼Ñ‹ÑˆÐ¸
    UserInputService.InputBegan:Connect(function(input, gp)
        if gp then return end
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            local m = UserInputService:GetMouseLocation()
            -- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ ÐºÐ»Ð¸Ðº Ð¿Ð¾ Ñ‡ÐµÐºÐ±Ð¾ÐºÑÐ°Ð¼
            for _, cb in ipairs(checkboxes) do
                if m.X >= 50 and m.X <= 400 and m.Y >= cb.y-6 and m.Y <= cb.y+6 then
                    if m.X >= 60 and m.X <= 72 then
                        local new = not cb.get()
                        cb.set(new)
                        cb.box.Color = new and Color3.fromRGB(0,255,0) or Color3.fromRGB(80,80,80)
                    end
                end
            end
            -- ÐšÐ»Ð¸Ðº Ð¿Ð¾ ÐºÑ€ÐµÑÑ‚Ð¸ÐºÑƒ
            if m.X >= 350 and m.X <= 370 and m.Y >= 55 and m.Y <= 75 then
                bg.Visible = false
                title.Visible = false
                closeBtn.Visible = false
                tpText.Visible = false
                for _, cb in ipairs(checkboxes) do
                    cb.box.Visible = false
                    cb.lbl.Visible = false
                end
            end
        end
    end)
end

CreateMenu()
ApplySpeed()
print("âœ… Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½. ÐœÐµÐ½ÑŽ Ð² Ð»ÐµÐ²Ð¾Ð¼ Ð²ÐµÑ€Ñ…Ð½ÐµÐ¼ ÑƒÐ³Ð»Ñƒ. Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð¾ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ°Ð¼.")

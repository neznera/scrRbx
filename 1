--[[
    üî∏ –ß–ò–°–¢–´–ô ESP (—Ç–æ–ª—å–∫–æ –ø–æ–¥—Å–≤–µ—Ç–∫–∞)
    - –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –≤—Å–µ BasePart –∫–∞–∂–¥–æ–≥–æ –≤—Ä–∞–≥–∞
    - –†–∞–º–∫–∏ –∂—ë–ª—Ç—ã–µ, –≤–∏–¥–Ω—ã —Å–∫–≤–æ–∑—å —Å—Ç–µ–Ω—ã
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TeamCheck (–≤–∫–ª/–≤—ã–∫–ª) –≤ –∫–æ–¥–µ
    - –†–∞–±–æ—Ç–∞–µ—Ç –≤ Defusal –∏ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–∞—Ö
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local CoreGui = (gethui and gethui()) or game:GetService("CoreGui")

if syn and syn.protect_gui then syn.protect_gui(CoreGui) elseif protect_gui then protect_gui(CoreGui) end

local LocalPlayer = Players.LocalPlayer

-- ===== –ù–ê–°–¢–†–û–ô–ö–ò =====
local TeamCheck = true   -- true = –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤—Ä–∞–≥–æ–≤ (–Ω–µ —Å–æ—é–∑–Ω–∏–∫–æ–≤), false = –≤—Å–µ—Ö –∫—Ä–æ–º–µ —Å–µ–±—è

-- –ü–∞–ø–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–∞–º–æ–∫ (–±—É–¥–µ—Ç –æ—á–∏—â–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä)
local ESP_Folder = Instance.new("Folder")
ESP_Folder.Name = "ESP_Container"
ESP_Folder.Parent = CoreGui

-- –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ä–∞–≥–∞
local function IsEnemy(player)
    if player == LocalPlayer then return false end
    if TeamCheck then
        if not player.Team or not LocalPlayer.Team then return true end
        return player.Team ~= LocalPlayer.Team
    end
    return true
end

-- –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª ESP (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä)
RunService.RenderStepped:Connect(function()
    -- –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å—Ç–∞—Ä—ã–µ —Ä–∞–º–∫–∏
    for _, child in pairs(ESP_Folder:GetChildren()) do
        child:Destroy()
    end

    -- –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –∏–≥—Ä–æ–∫–∞–º
    for _, player in pairs(Players:GetPlayers()) do
        if IsEnemy(player) then
            local char = player.Character
            if char then
                local hum = char:FindFirstChild("Humanoid")
                if hum and hum.Health > 0 then
                    -- –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ —á–∞—Å—Ç–∏ —Ç–µ–ª–∞ (–¥–∞–∂–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ)
                    for _, part in pairs(char:GetDescendants()) do
                        if part:IsA("BasePart") and part.Transparency < 1 then
                            local box = Instance.new("BoxHandleAdornment")
                            box.Name = part.Name
                            box.Adornee = part
                            box.AlwaysOnTop = true
                            box.ZIndex = 10
                            box.Size = part.Size * 1.05
                            box.Transparency = 0.3
                            box.Color = BrickColor.new("Bright yellow")
                            box.Parent = ESP_Folder
                        end
                    end
                end
            end
        end
    end
end)

print("‚úÖ ESP –∑–∞–≥—Ä—É–∂–µ–Ω. TeamCheck = " .. tostring(TeamCheck))

--[[
    ‚ö° BEE SWARM CHEAT HUB ‚ö°
    –§—É–Ω–∫—Ü–∏–∏:
    - Infinite Energy
    - Auto Complete Quest (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∫–≤–µ—Å—Ç)
    - Super Gather (—Å–æ–±–∏—Ä–∞–µ—Ç –ø—ã–ª—å—Ü—É —Å –æ–≥—Ä–æ–º–Ω–æ–≥–æ —Ä–∞–¥–∏—É—Å–∞)
    - Spawn Loot (—Å–ø–∞–≤–Ω–∏—Ç —Å–ª—É—á–∞–π–Ω—ã–π –ª—É—Ç —Ä—è–¥–æ–º —Å –≤–∞–º–∏)
    - Teleport to Mobs
    - Unlock All Guards (–æ–±—Ö–æ–¥ –ø–æ–∫—É–ø–∫–∏ —Å—Ç—Ä–∞–∂–∏)
    
    –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –ø—Ä–∏–≤–µ–¥—É—Ç –∫ –±–∞–Ω—É!
    –¢–æ–ª—å–∫–æ –¥–ª—è –∞–ª—å—Ç-–∞–∫–∫–∞—É–Ω—Ç–æ–≤.
]]

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = (gethui and gethui()) or game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer

-- –ó–∞—â–∏—Ç–∞ GUI
if syn and syn.protect_gui then syn.protect_gui(CoreGui) elseif protect_gui then protect_gui(CoreGui) end

-- ========== –ù–ê–°–¢–†–û–ô–ö–ò ==========
local Settings = {
    InfiniteEnergy = false,
    AutoQuest = false,
    SuperGather = false,
    SuperGatherRadius = 200,
    SpawnLootKey = Enum.KeyCode.L,
    TeleportMobsKey = Enum.KeyCode.K,
    UnlockGuardsKey = Enum.KeyCode.G,
}

-- ========== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========
local function getPlayerData()
    -- –ü–æ–ø—ã—Ç–∫–∞ –Ω–∞–π—Ç–∏ –æ–±—ä–µ–∫—Ç –∏–≥—Ä–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏)
    local plr = LocalPlayer
    local data = plr:FindFirstChild("Data") or plr:FindFirstChild("PlayerData") or plr:FindFirstChild("Stats")
    return data
end

local function getQuestData()
    local data = getPlayerData()
    if data then
        return data:FindFirstChild("Quests") or data:FindFirstChild("QuestData")
    end
    return nil
end

-- ========== 1. INFINITE ENERGY ==========
local function setInfiniteEnergy()
    if not Settings.InfiniteEnergy then return end
    local data = getPlayerData()
    if data then
        -- –í —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö –∏–≥—Ä—ã —ç–Ω–µ—Ä–≥–∏—è –º–æ–∂–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É
        local energy = data:FindFirstChild("Energy") or data:FindFirstChild("Stamina") or data:FindFirstChild("Power")
        if energy and energy:IsA("NumberValue") then
            energy.Value = 999999
        end
    end
end

-- ========== 2. AUTO COMPLETE QUEST ==========
local function completeCurrentQuest()
    local questData = getQuestData()
    if questData then
        -- –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ —Ç–µ–∫—É—â–∏–π –∫–≤–µ—Å—Ç –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞ –º–∞–∫—Å–∏–º—É–º
        for _, v in pairs(questData:GetChildren()) do
            if v:IsA("NumberValue") and v.Name:find("Progress") then
                v.Value = 999999
            elseif v:IsA("StringValue") and v.Name:find("Quest") then
                -- –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–∏—Ç—å —á–µ—Ä–µ–∑ RemoteEvent
                local completeEvent = questData:FindFirstChild("CompleteQuest") or questData:FindFirstChild("Claim")
                if completeEvent and completeEvent:IsA("RemoteEvent") then
                    completeEvent:FireServer()
                end
            end
        end
        print("‚úÖ –ö–≤–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω (–ø–æ–ø—ã—Ç–∫–∞)")
    end
end

-- ========== 3. SUPER GATHER (—Å–±–æ—Ä –ø—ã–ª—å—Ü—ã —Å –æ–≥—Ä–æ–º–Ω–æ–≥–æ —Ä–∞–¥–∏—É—Å–∞) ==========
local function superGather()
    if not Settings.SuperGather then return end
    local char = LocalPlayer.Character
    if not char then return end
    local root = char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso")
    if not root then return end

    local pos = root.Position
    for _, obj in pairs(workspace:GetDescendants()) do
        -- –°–æ–±–∏—Ä–∞–µ–º –≤—Å—ë, —á—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ –ø—ã–ª—å—Ü—É (–º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å)
        if obj:IsA("BasePart") and (obj.Name:find("Pollen") or obj.Name:find("Token")) then
            local dist = (obj.Position - pos).Magnitude
            if dist <= Settings.SuperGatherRadius then
                -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º –æ–±—ä–µ–∫—Ç –∫ –∏–≥—Ä–æ–∫—É
                obj.CFrame = CFrame.new(pos)
                -- –ò–ª–∏ —Å—Ä–∞–∑—É –≤—ã–∑—ã–≤–∞–µ–º —Å–±–æ—Ä, –µ—Å–ª–∏ –µ—Å—Ç—å RemoteEvent
                local collectEvent = obj:FindFirstChild("Collect") or obj:FindFirstChild("OnCollect")
                if collectEvent and collectEvent:IsA("RemoteEvent") then
                    collectEvent:FireServer()
                end
            end
        end
    end
end

-- ========== 4. SPAWN LOOT (—Å–ø–∞–≤–Ω–∏—Ç –ø—Ä–µ–¥–º–µ—Ç—ã —Ä—è–¥–æ–º) ==========
local function spawnLoot()
    local char = LocalPlayer.Character
    if not char then return end
    local root = char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso")
    if not root then return end

    -- –ü—ã—Ç–∞–µ–º—Å—è –≤—ã–∑–≤–∞—Ç—å —Å–ø–∞–≤–Ω –ª—É—Ç–∞ (—ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —á–µ—Ä–µ–∑ RemoteEvent)
    local lootFolder = workspace:FindFirstChild("LootFolder") or workspace:FindFirstChild("DroppedItems")
    if lootFolder then
        -- –°–æ–∑–¥–∞—ë–º –∫–æ–ø–∏—é —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ª—É—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —è–π—Ü–æ)
        local egg = lootFolder:FindFirstChild("Egg") or lootFolder:FindFirstChild("Treat") or lootFolder:FindFirstChild("Ticket")
        if egg then
            local new = egg:Clone()
            new.CFrame = CFrame.new(root.Position + Vector3.new(0, 3, 0))
            new.Parent = workspace
            print("ü•ö –ü—Ä–µ–¥–º–µ—Ç —Å–æ–∑–¥–∞–Ω!")
        end
    else
        -- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±: —á–µ—Ä–µ–∑ —É–¥–∞–ª—ë–Ω–Ω—ã–π –≤—ã–∑–æ–≤
        local remote = game:GetService("ReplicatedStorage"):FindFirstChild("SpawnItem")
        if remote and remote:IsA("RemoteEvent") then
            remote:FireServer("Egg", root.Position)
        end
    end
end

-- ========== 5. TELEPORT TO MOBS ==========
local function teleportToNearestMob()
    local char = LocalPlayer.Character
    if not char then return end
    local root = char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso")
    if not root then return end

    local nearest = nil
    local minDist = math.huge
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("Model") and obj:FindFirstChild("Humanoid") then
            local hum = obj:FindFirstChild("Humanoid")
            if hum and hum.Health > 0 and not Players:GetPlayerFromCharacter(obj) then
                local mobRoot = obj:FindFirstChild("HumanoidRootPart") or obj:FindFirstChild("Torso")
                if mobRoot then
                    local dist = (mobRoot.Position - root.Position).Magnitude
                    if dist < minDist then
                        minDist = dist
                        nearest = mobRoot
                    end
                end
            end
        end
    end

    if nearest then
        root.CFrame = CFrame.new(nearest.Position + Vector3.new(0, 5, 0))
        print("üëæ –¢–µ–ª–µ–ø–æ—Ä—Ç –∫ –º–æ–±—É!")
    end
end

-- ========== 6. UNLOCK ALL GUARDS (–æ–±—Ö–æ–¥ –ø–æ–∫—É–ø–∫–∏) ==========
local function unlockGuards()
    local data = getPlayerData()
    if data then
        local guards = data:FindFirstChild("Guards") or data:FindFirstChild("ShopGuards")
        if guards then
            for _, guard in pairs(guards:GetChildren()) do
                if guard:IsA("BoolValue") then
                    guard.Value = true
                elseif guard:IsA("NumberValue") then
                    guard.Value = 1
                end
            end
            print("üõ°Ô∏è –°—Ç—Ä–∞–∂–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ (–ø–æ–ø—ã—Ç–∫–∞)")
        end
    end
end

-- ========== –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–õ–ê–í–ò–®–ê–ú–ò ==========
UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == Settings.SpawnLootKey then
        spawnLoot()
    elseif input.KeyCode == Settings.TeleportMobsKey then
        teleportToNearestMob()
    elseif input.KeyCode == Settings.UnlockGuardsKey then
        unlockGuards()
    end
end)

-- ========== –ì–õ–ê–í–ù–´–ô –¶–ò–ö–õ ==========
RunService.Heartbeat:Connect(function()
    if Settings.InfiniteEnergy then
        setInfiniteEnergy()
    end
    if Settings.AutoQuest then
        completeCurrentQuest()
    end
    if Settings.SuperGather then
        superGather()
    end
end)

-- ========== –ú–ï–ù–Æ (DRAWING) ==========
local function CreateMenu()
    local bg = Drawing.new("Square")
    bg.Visible = true
    bg.Color = Color3.fromRGB(30,30,40)
    bg.Transparency = 0.9
    bg.Size = Vector2.new(320, 300)
    bg.Position = Vector2.new(50, 50)
    bg.Filled = true
    bg.ZIndex = 999

    local title = Drawing.new("Text")
    title.Visible = true
    title.Color = Color3.fromRGB(255,255,0)
    title.Position = Vector2.new(60,55)
    title.Text = "‚ö° CHEAT HUB BSS"
    title.Size = 20
    title.ZIndex = 1000

    local closeBtn = Drawing.new("Text")
    closeBtn.Visible = true
    closeBtn.Color = Color3.new(1,0,0)
    closeBtn.Position = Vector2.new(350,55)
    closeBtn.Text = "X"
    closeBtn.Size = 20
    closeBtn.ZIndex = 1000

    local items = {}
    local yPos = 85
    local function AddCheckbox(text, getter, setter)
        local box = Drawing.new("Square")
        box.Visible = true
        box.Color = getter() and Color3.fromRGB(0,255,0) or Color3.fromRGB(80,80,80)
        box.Size = Vector2.new(12,12)
        box.Position = Vector2.new(60, yPos)
        box.Filled = true
        box.ZIndex = 1000

        local lbl = Drawing.new("Text")
        lbl.Visible = true
        lbl.Color = Color3.new(1,1,1)
        lbl.Position = Vector2.new(80, yPos-2)
        lbl.Text = text
        lbl.Size = 14
        lbl.ZIndex = 1000

        table.insert(items, {box=box, lbl=lbl, y=yPos, set=setter, get=getter})
        yPos = yPos + 25
    end

    AddCheckbox("‚àû Energy", 
        function() return Settings.InfiniteEnergy end,
        function(v) Settings.InfiniteEnergy = v end)

    AddCheckbox("Auto Complete Quest", 
        function() return Settings.AutoQuest end,
        function(v) Settings.AutoQuest = v end)

    AddCheckbox("Super Gather (–æ–ø–∞—Å–Ω–æ!)", 
        function() return Settings.SuperGather end,
        function(v) Settings.SuperGather = v end)

    yPos = yPos + 5
    local info1 = Drawing.new("Text")
    info1.Visible = true
    info1.Color = Color3.new(1,1,1)
    info1.Position = Vector2.new(60, yPos)
    info1.Text = "L - Spawn Loot"
    info1.Size = 14
    yPos = yPos + 20

    local info2 = Drawing.new("Text")
    info2.Visible = true
    info2.Color = Color3.new(1,1,1)
    info2.Position = Vector2.new(60, yPos)
    info2.Text = "K - Teleport to Mob"
    info2.Size = 14
    yPos = yPos + 20

    local info3 = Drawing.new("Text")
    info3.Visible = true
    info3.Color = Color3.new(1,1,1)
    info3.Position = Vector2.new(60, yPos)
    info3.Text = "G - Unlock Guards"
    info3.Size = 14
    yPos = yPos + 20

    -- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤
    UserInputService.InputBegan:Connect(function(input, gp)
        if gp then return end
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            local m = UserInputService:GetMouseLocation()
            if m.X >= 50 and m.X <= 370 and m.Y >= 50 and m.Y <= 300 then
                for _, item in ipairs(items) do
                    if m.X >= 60 and m.X <= 72 and m.Y >= item.y-6 and m.Y <= item.y+6 then
                        local new = not item.get()
                        item.set(new)
                        item.box.Color = new and Color3.fromRGB(0,255,0) or Color3.fromRGB(80,80,80)
                    end
                end
            end
            if m.X >= 350 and m.X <= 370 and m.Y >= 55 and m.Y <= 75 then
                -- –ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é
                bg.Visible = false
                title.Visible = false
                closeBtn.Visible = false
                info1.Visible = false
                info2.Visible = false
                info3.Visible = false
                for _, item in ipairs(items) do
                    item.box.Visible = false
                    item.lbl.Visible = false
                end
            end
        end
    end)
end

CreateMenu()
print("‚ö†Ô∏è CHEAT HUB –∑–∞–≥—Ä—É–∂–µ–Ω. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫! –ú–µ–Ω—é —Å–ª–µ–≤–∞ –≤–≤–µ—Ä—Ö—É.")

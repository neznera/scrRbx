--[[
    Teleport to Snowflake Token (Bee Swarm Simulator)
    - –†—É—á–Ω–æ–π —Ä–µ–∂–∏–º: T ‚Äì —Ç–µ–ª–µ–ø–æ—Ä—Ç –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–π —Ç–æ–∫–µ–Ω.
    - –ê–≤—Ç–æ —Ä–µ–∂–∏–º: G ‚Äì –≤–∫–ª/–≤—ã–∫–ª (–ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è –Ω–∞ —Ç–æ–∫–µ–Ω—ã).
    - –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ —Ü–µ–Ω—Ç—Ä —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞.
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer

-- ===== –ù–ê–°–¢–†–û–ô–ö–ò =====
local SETTINGS = {
    -- –ò–º—è —Ç–æ–∫–µ–Ω–∞ (–º–æ–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å –≤ –∏–≥—Ä–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å "SnowflakeToken", "Token", "GiftToken" –∏ —Ç.–¥.)
    TokenName = "SnowflakeToken",  -- –µ—Å–ª–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ "Token" –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ Explorer'e

    -- –†–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞
    SearchRadius = 500,

    -- –ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ-—Ç–µ–ª–µ–ø–æ—Ä—Ç–∞ (—Å–µ–∫.)
    AutoInterval = 0.1,

    -- –ö–ª–∞–≤–∏—à–∏
    ManualKey = Enum.KeyCode.T,
    ToggleAutoKey = Enum.KeyCode.G,
}

-- ===== –ü–ï–†–ï–ú–ï–ù–ù–´–ï =====
local autoEnabled = false
local character = nil
local rootPart = nil

-- –û–±–Ω–æ–≤–ª—è–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
local function updateCharacter()
    character = LocalPlayer.Character
    if character then
        rootPart = character:FindFirstChild("HumanoidRootPart") or character:FindFirstChild("Torso")
    else
        rootPart = nil
    end
end

LocalPlayer.CharacterAdded:Connect(updateCharacter)
updateCharacter()

-- –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ç–æ–∫–µ–Ω–∞
local function findNearestToken()
    if not rootPart then return nil end

    local myPos = rootPart.Position
    local nearest = nil
    local minDist = SETTINGS.SearchRadius

    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") and obj.Name == SETTINGS.TokenName then
            local dist = (obj.Position - myPos).Magnitude
            if dist < minDist then
                minDist = dist
                nearest = obj
            end
        end
    end
    return nearest
end

-- –§—É–Ω–∫—Ü–∏—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ –Ω–∞ —Ç–æ–∫–µ–Ω
local function teleportToToken(token)
    if not token or not rootPart then return end
    rootPart.CFrame = CFrame.new(token.Position)  -- —Ç–æ—á–Ω–æ –≤ —Ü–µ–Ω—Ç—Ä
    print("‚úÖ –¢–µ–ª–µ–ø–æ—Ä—Ç –Ω–∞ —Ç–æ–∫–µ–Ω")
end

-- –†—É—á–Ω–∞—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è
UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == SETTINGS.ManualKey then
        local token = findNearestToken()
        if token then
            teleportToToken(token)
        else
            print("‚ùå –¢–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω")
        end
    end
end)

-- –í–∫–ª/–≤—ã–∫–ª –∞–≤—Ç–æ —Ä–µ–∂–∏–º–∞
UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == SETTINGS.ToggleAutoKey then
        autoEnabled = not autoEnabled
        print("üîÑ –ê–≤—Ç–æ-—Ç–µ–ª–µ–ø–æ—Ä—Ç:", autoEnabled and "–í–ö–õ" or "–í–´–ö–õ")
    end
end)

-- –ê–≤—Ç–æ —Ü–∏–∫–ª
RunService.Heartbeat:Connect(function()
    if not autoEnabled then return end
    if not rootPart then updateCharacter(); return end

    local token = findNearestToken()
    if token then
        teleportToToken(token)
        task.wait(SETTINGS.AutoInterval)  -- –Ω–µ–±–æ–ª—å—à–∞—è –ø–∞—É–∑–∞ –º–µ–∂–¥—É —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞–º–∏, —á—Ç–æ–±—ã –Ω–µ —Å–ø–∞–º–∏—Ç—å —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ
    end
end)

print("‚úÖ –°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–µ–Ω. T ‚Äì —Ä—É—á–Ω–∞—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è, G ‚Äì –≤–∫–ª/–≤—ã–∫–ª –∞–≤—Ç–æ.")
print("–¢–æ–∫–µ–Ω –∏—â–µ—Ç—Å—è –ø–æ –∏–º–µ–Ω–∏: " .. SETTINGS.TokenName)

--[[
    âš¡ REMOTE EVENT EXPLOITER âš¡
    - Ğ¡ĞºĞ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²ÑĞµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ¸ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ RemoteEvent'Ñ‹ Ğ¸ RemoteFunction'Ñ‹.
    - ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ¸Ñ… Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸.
    - ĞŸĞµÑ€ĞµÑ…Ğ²Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¸ Ğ»Ğ¾Ğ³Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²ÑĞµ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ñ‹.
    - Ğ˜Ğ¼ĞµĞµÑ‚ Ğ¼ĞµĞ½Ñ Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¸ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ.
    
    ĞšĞ°Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ:
    1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ â€“ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑÑ Ğ¼ĞµĞ½Ñ.
    2. ĞĞ°Ğ¶Ğ¼Ğ¸ "Scan" â€“ Ğ±ÑƒĞ´ÑƒÑ‚ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ‹ Ğ²ÑĞµ Remote'Ñ‹.
    3. Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ Ğ½ÑƒĞ¶Ğ½Ñ‹Ğ¹ Ğ¸Ğ· ÑĞ¿Ğ¸ÑĞºĞ° (Ğ¿Ğ¾ Ğ½Ğ¾Ğ¼ĞµÑ€Ñƒ).
    4. Ğ’Ğ²ĞµĞ´Ğ¸ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ (ĞºĞ°Ğº Lua-Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ) Ğ¸Ğ»Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ²ÑŒ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼.
    5. ĞĞ°Ğ¶Ğ¼Ğ¸ "Fire" â€“ Remote Ğ±ÑƒĞ´ĞµÑ‚ Ğ²Ñ‹Ğ·Ğ²Ğ°Ğ½.
    6. Ğ’ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸ (F9) ÑƒĞ²Ğ¸Ğ´Ğ¸ÑˆÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¸ Ğ¾Ñ‚Ğ²ĞµÑ‚ (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ).
]]

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = (gethui and gethui()) or game:GetService("CoreGui")
local LocalPlayer = Players.LocalPlayer

-- Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° GUI
if syn and syn.protect_gui then syn.protect_gui(CoreGui) elseif protect_gui then protect_gui(CoreGui) end

-- ========== ĞŸĞ•Ğ Ğ•ĞœĞ•ĞĞĞ«Ğ• ==========
local RemoteList = {}          -- ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ½Ñ‹Ñ… Remote'Ğ¾Ğ²
local SelectedIndex = 1        -- Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ğ´ĞµĞºÑ
local ArgsInput = ""           -- ÑÑ‚Ñ€Ğ¾ĞºĞ° Ñ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸
local Logs = {}                 -- Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ¾Ğ²

-- ========== Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ¯ Ğ¡ĞšĞĞĞ˜Ğ ĞĞ’ĞĞĞ˜Ğ¯ ==========
local function ScanRemotes()
    RemoteList = {}
    local services = {
        game:GetService("ReplicatedStorage"),
        game:GetService("ServerStorage"),
        game:GetService("ServerScriptService"),
        game:GetService("Workspace"),
        game:GetService("Players"),
        game:GetService("Lighting"),
        game
    }
    
    -- Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹ (getnilinstances)
    local hidden = getnilinstances()
    for _, obj in pairs(hidden) do
        if obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction") then
            table.insert(RemoteList, obj)
        end
    end
    
    for _, service in ipairs(services) do
        for _, obj in pairs(service:GetDescendants()) do
            if obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction") then
                table.insert(RemoteList, obj)
            end
        end
    end
    
    print("âœ… ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾ Remote'Ğ¾Ğ²: " .. #RemoteList)
    return #RemoteList
end

-- ========== Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ¯ Ğ’Ğ«Ğ—ĞĞ’Ğ REMOTE ==========
local function FireRemote(index, argsTable)
    local remote = RemoteList[index]
    if not remote then
        print("âŒ Remote Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½")
        return
    end
    
    local success, result = pcall(function()
        if remote:IsA("RemoteEvent") then
            remote:FireServer(unpack(argsTable or {}))
            return "RemoteEvent ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ²Ñ‹Ğ·Ğ²Ğ°Ğ½"
        elseif remote:IsA("RemoteFunction") then
            return remote:InvokeServer(unpack(argsTable or {}))
        end
    end)
    
    if success then
        print("âœ… Ğ’Ñ‹Ğ·Ğ¾Ğ² Remote '" .. remote.Name .. "' Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½")
        if result then
            print("ğŸ“¦ ĞÑ‚Ğ²ĞµÑ‚ ÑĞµÑ€Ğ²ĞµÑ€Ğ°:", typeof(result) == "string" and result or "ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¹ Ğ¾Ğ±ÑŠĞµĞºÑ‚")
        end
        table.insert(Logs, {name = remote.Name, args = argsTable, success = true})
    else
        print("âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ°:", result)
        table.insert(Logs, {name = remote.Name, args = argsTable, success = false, error = result})
    end
end

-- ========== Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ¯ ĞŸĞĞ Ğ¡Ğ˜ĞĞ“Ğ ĞĞ Ğ“Ğ£ĞœĞ•ĞĞ¢ĞĞ’ ==========
local function ParseArgs(input)
    if input == "" then return {} end
    local func, err = load("return " .. input)
    if not func then
        print("âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ…:", err)
        return nil
    end
    local success, result = pcall(func)
    if success then
        if type(result) ~= "table" then
            result = {result}
        end
        return result
    else
        print("âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ:", result)
        return nil
    end
end

-- ========== ĞœĞ•ĞĞ® (DRAWING) ==========
local function CreateMenu()
    local bg = Drawing.new("Square")
    bg.Visible = true
    bg.Color = Color3.fromRGB(30, 30, 40)
    bg.Transparency = 0.9
    bg.Size = Vector2.new(450, 400)
    bg.Position = Vector2.new(100, 50)
    bg.Filled = true
    bg.ZIndex = 999

    local title = Drawing.new("Text")
    title.Visible = true
    title.Color = Color3.fromRGB(255, 255, 0)
    title.Position = Vector2.new(120, 55)
    title.Text = "âš¡ REMOTE EXPLOITER"
    title.Size = 20
    title.ZIndex = 1000

    local closeBtn = Drawing.new("Text")
    closeBtn.Visible = true
    closeBtn.Color = Color3.new(1,0,0)
    closeBtn.Position = Vector2.new(530, 55)
    closeBtn.Text = "X"
    closeBtn.Size = 20
    closeBtn.ZIndex = 1000

    -- ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ° (Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğµ)
    local scanBtn = Drawing.new("Text")
    scanBtn.Visible = true
    scanBtn.Color = Color3.fromRGB(100, 200, 255)
    scanBtn.Position = Vector2.new(120, 85)
    scanBtn.Text = "ğŸ” SCAN (Ğ½Ğ°Ğ¶Ğ¼Ğ¸ Ğ·Ğ´ĞµÑÑŒ)"
    scanBtn.Size = 16
    scanBtn.ZIndex = 1000

    local fireBtn = Drawing.new("Text")
    fireBtn.Visible = true
    fireBtn.Color = Color3.fromRGB(100, 255, 100)
    fireBtn.Position = Vector2.new(120, 115)
    fireBtn.Text = "ğŸ”¥ FIRE SELECTED"
    fireBtn.Size = 16
    fireBtn.ZIndex = 1000

    local prevBtn = Drawing.new("Text")
    prevBtn.Visible = true
    prevBtn.Color = Color3.fromRGB(200, 200, 200)
    prevBtn.Position = Vector2.new(120, 145)
    prevBtn.Text = "â¬…ï¸ PREV"
    prevBtn.Size = 14
    prevBtn.ZIndex = 1000

    local nextBtn = Drawing.new("Text")
    nextBtn.Visible = true
    nextBtn.Color = Color3.fromRGB(200, 200, 200)
    nextBtn.Position = Vector2.new(200, 145)
    nextBtn.Text = "â¡ï¸ NEXT"
    nextBtn.Size = 14
    nextBtn.ZIndex = 1000

    -- Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğ¼ Remote
    local selectedInfo = Drawing.new("Text")
    selectedInfo.Visible = true
    selectedInfo.Color = Color3.new(1,1,1)
    selectedInfo.Position = Vector2.new(120, 175)
    selectedInfo.Text = "Selected: none"
    selectedInfo.Size = 14
    selectedInfo.ZIndex = 1000

    -- ĞŸĞ¾Ğ»Ğµ Ğ²Ğ²Ğ¾Ğ´Ğ° Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
    local argsLabel = Drawing.new("Text")
    argsLabel.Visible = true
    argsLabel.Color = Color3.new(1,1,1)
    argsLabel.Position = Vector2.new(120, 205)
    argsLabel.Text = "Args (Lua table):"
    argsLabel.Size = 14
    argsLabel.ZIndex = 1000

    local argsField = Drawing.new("Text")
    argsField.Visible = true
    argsField.Color = Color3.fromRGB(255, 255, 100)
    argsField.Position = Vector2.new(120, 225)
    argsField.Text = ""
    argsField.Size = 14
    argsField.ZIndex = 1000

    -- Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ»Ğ¾Ğ³Ğ¾Ğ² (Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 5)
    local logTitle = Drawing.new("Text")
    logTitle.Visible = true
    logTitle.Color = Color3.new(1,1,1)
    logTitle.Position = Vector2.new(120, 260)
    logTitle.Text = "ğŸ“œ Logs:"
    logTitle.Size = 14
    logTitle.ZIndex = 1000

    local logLines = {}
    for i = 1, 5 do
        logLines[i] = Drawing.new("Text")
        logLines[i].Visible = true
        logLines[i].Color = Color3.new(0.8,0.8,0.8)
        logLines[i].Position = Vector2.new(120, 280 + (i-1)*20)
        logLines[i].Text = ""
        logLines[i].Size = 12
        logLines[i].ZIndex = 1000
    end

    -- ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ĞºĞ»Ğ¸ĞºĞ¾Ğ²
    local function updateDisplay()
        if #RemoteList > 0 then
            local r = RemoteList[SelectedIndex]
            selectedInfo.Text = string.format("Selected %d/%d: %s (%s)", SelectedIndex, #RemoteList, r.Name, r.ClassName)
        else
            selectedInfo.Text = "Selected: none (scan first)"
        end
        argsField.Text = ArgsInput
        -- ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ»Ğ¾Ğ³Ğ¸
        for i = 1, 5 do
            local idx = #Logs - i + 1
            if idx >= 1 then
                local entry = Logs[idx]
                local status = entry.success and "âœ…" or "âŒ"
                logLines[i].Text = string.format("%s %s(%s)", status, entry.name, tostring(entry.args))
            else
                logLines[i].Text = ""
            end
        end
    end

    UserInputService.InputBegan:Connect(function(input, gp)
        if gp then return end
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            local m = UserInputService:GetMouseLocation()
            if m.X >= 100 and m.X <= 550 and m.Y >= 50 and m.Y <= 450 then
                -- ĞšĞ½Ğ¾Ğ¿ĞºĞ° SCAN
                if m.X >= 120 and m.X <= 300 and m.Y >= 85 and m.Y <= 100 then
                    local count = ScanRemotes()
                    SelectedIndex = 1
                    updateDisplay()
                end
                -- ĞšĞ½Ğ¾Ğ¿ĞºĞ° FIRE
                if m.X >= 120 and m.X <= 300 and m.Y >= 115 and m.Y <= 130 then
                    if #RemoteList > 0 then
                        local args = ParseArgs(ArgsInput)
                        if args ~= nil then
                            FireRemote(SelectedIndex, args)
                            updateDisplay()
                        end
                    end
                end
                -- ĞšĞ½Ğ¾Ğ¿ĞºĞ° PREV
                if m.X >= 120 and m.X <= 170 and m.Y >= 145 and m.Y <= 160 then
                    if #RemoteList > 0 then
                        SelectedIndex = (SelectedIndex - 2) % #RemoteList + 1
                        updateDisplay()
                    end
                end
                -- ĞšĞ½Ğ¾Ğ¿ĞºĞ° NEXT
                if m.X >= 200 and m.X <= 250 and m.Y >= 145 and m.Y <= 160 then
                    if #RemoteList > 0 then
                        SelectedIndex = SelectedIndex % #RemoteList + 1
                        updateDisplay()
                    end
                end
                -- Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ
                if m.X >= 530 and m.X <= 550 and m.Y >= 55 and m.Y <= 75 then
                    bg.Visible = false
                    title.Visible = false
                    closeBtn.Visible = false
                    scanBtn.Visible = false
                    fireBtn.Visible = false
                    prevBtn.Visible = false
                    nextBtn.Visible = false
                    selectedInfo.Visible = false
                    argsLabel.Visible = false
                    argsField.Visible = false
                    logTitle.Visible = false
                    for _, line in ipairs(logLines) do line.Visible = false end
                end
            end
        end
        -- Ğ’Ğ²Ğ¾Ğ´ Ñ‚ĞµĞºÑÑ‚Ğ° Ğ´Ğ»Ñ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
        if input.UserInputType == Enum.UserInputType.Keyboard then
            if input.KeyCode == Enum.KeyCode.Backspace then
                ArgsInput = ArgsInput:sub(1, -2)
            elseif input.KeyCode == Enum.KeyCode.Return then
                -- Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾
            else
                local char = input.KeyCode.Name
                if #char == 1 then
                    ArgsInput = ArgsInput .. char
                end
            end
            updateDisplay()
        end
    end)

    -- Ğ ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
    RunService.Heartbeat:Connect(updateDisplay)
end

-- ========== Ğ—ĞĞŸĞ£Ğ¡Ğš ==========
CreateMenu()
print("âš¡ Remote Exploiter Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ Ğ¼ĞµĞ½Ñ Ğ´Ğ»Ñ ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ° Remote'Ğ¾Ğ².")

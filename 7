--[[
    –¢–ï–õ–ï–ü–û–†–¢ –¢–û–õ–¨–ö–û –ù–ê –°–ù–ï–ñ–ò–ù–ö–ò (–ü–û –¶–í–ï–¢–£) + –ß–Å–†–ù–´–ô –°–ü–ò–°–û–ö
    - –ò—â–µ—Ç –æ–±—ä–µ–∫—Ç—ã —Å –∏–º–µ–Ω–µ–º "C" –∏ —Ü–≤–µ—Ç–æ–º, –±–ª–∏–∑–∫–∏–º –∫ –≥–æ–ª—É–±–æ–º—É.
    - –ó–∞–ø–æ–º–∏–Ω–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ñ–∞–Ω—Ç–æ–º–æ–≤ (–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å—á–µ–∑–∞—é—Ç –ø–æ—Å–ª–µ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞).
    - –ù–∞–∂–º–∏ T –¥–ª—è –ø–∞—É–∑—ã/–≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
]]

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

local TARGET_NAME = "C"
-- –¶–≤–µ—Ç —Å–Ω–µ–∂–∏–Ω–∫–∏ (–∏–∑ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
local SNOWFLAKE_COLOR = Color3.fromRGB(110, 244, 240) -- –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ 0.43,0.96,0.94
local COLOR_TOLERANCE = 0.05   -- –¥–æ–ø—É—Å–∫ –ø–æ –∫–∞–∂–¥–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Ü–≤–µ—Ç–∞
local BLACKLIST = {}           -- –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ñ–∞–Ω—Ç–æ–º–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
local ENABLED = true           -- —Ñ–ª–∞–≥ —Ä–∞–±–æ—Ç—ã

-- –§—É–Ω–∫—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ —Å –¥–æ–ø—É—Å–∫–æ–º
local function colorClose(c1, c2)
    return math.abs(c1.R - c2.R) < COLOR_TOLERANCE
        and math.abs(c1.G - c2.G) < COLOR_TOLERANCE
        and math.abs(c1.B - c2.B) < COLOR_TOLERANCE
end

-- –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª—é—á–∞ –ø–æ –ø–æ–∑–∏—Ü–∏–∏ (–¥–ª—è —á—ë—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞)
local function posKey(pos)
    return string.format("%.1f_%.1f_%.1f", pos.X, pos.Y, pos.Z)
end

-- –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
while ENABLED do
    local char = LocalPlayer.Character
    if char then
        local root = char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso")
        if root then
            local myPos = root.Position
            local closest = nil
            local closestDist = math.huge

            -- –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Ç–æ–∫–µ–Ω–∞
            for _, obj in pairs(workspace:GetDescendants()) do
                if obj:IsA("BasePart") and obj.Name == TARGET_NAME and obj.Transparency == 0 then
                    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ü–≤–µ—Ç
                    if colorClose(obj.Color, SNOWFLAKE_COLOR) then
                        local key = posKey(obj.Position)
                        if not BLACKLIST[key] then
                            local dist = (obj.Position - myPos).Magnitude
                            if dist < closestDist then
                                closestDist = dist
                                closest = obj
                            end
                        end
                    end
                end
            end

            -- –ï—Å–ª–∏ –Ω–∞—à–ª–∏ —Ü–µ–ª—å ‚Äì —Ç–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è
            if closest then
                local pos = closest.Position
                root.CFrame = CFrame.new(pos)
                task.wait(0.1)  -- –Ω–µ–±–æ–ª—å—à–∞—è –ø–∞—É–∑–∞, —á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç —É—Å–ø–µ–ª –∏—Å—á–µ–∑–Ω—É—Ç—å (–µ—Å–ª–∏ –æ–Ω –Ω–∞—Å—Ç–æ—è—â–∏–π)

                -- –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –≤—Å—ë –µ—â—ë —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∑–Ω–∞—á–∏—Ç —ç—Ç–æ —Ñ–∞–Ω—Ç–æ–º ‚Äì –¥–æ–±–∞–≤–ª—è–µ–º –≤ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
                if closest and closest.Parent then
                    BLACKLIST[posKey(pos)] = true
                    print("üö´ –§–∞–Ω—Ç–æ–º –¥–æ–±–∞–≤–ª–µ–Ω –≤ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫:", posKey(pos))
                end
            end
        end
    end
    task.wait(0.05)  -- —á–∞—Å—Ç–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫
end

-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—É–∑–æ–π –ø–æ –∫–ª–∞–≤–∏—à–µ T
UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == Enum.KeyCode.T then
        ENABLED = not ENABLED
        print(ENABLED and "‚ñ∂Ô∏è –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω" or "‚è∏Ô∏è –°–∫—Ä–∏–ø—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
    end
end)

print("‚úÖ –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–Ω–µ–∂–∏–Ω–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω. –ù–∞–∂–º–∏ T –¥–ª—è –ø–∞—É–∑—ã.")
